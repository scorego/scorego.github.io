<!DOCTYPE html>













<html class="theme-next mist" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/uploads/favicon-128x128-01.ico?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon-32x32-01.ico?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon-16x16-01.ico?v=7.1.0">


  <link rel="mask-icon" href="/uploads/favicon-128x128-01.ico?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1. 正则表达式正则表达式，又称规则表达式(Regular Expression，常简写为regex、regexp、RE)，描述了一种字符串匹配的模式(pattern)，可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。正则表达式是由普通字符(例如字符a-z)以及特殊字符(称为”元字符”)组成的文字模式。模式描述在搜索文本时要匹配的一个或多个字符串。正则表">
<meta name="keywords" content="Linux命令">
<meta property="og:type" content="article">
<meta property="og:title" content="正则表达式及Linux的几个常用命令">
<meta property="og:url" content="javior.wang/2019/05/19/操作系统/正则表达式及Linux的几个常用命令/index.html">
<meta property="og:site_name" content="Javior&#39;s Blog">
<meta property="og:description" content="1. 正则表达式正则表达式，又称规则表达式(Regular Expression，常简写为regex、regexp、RE)，描述了一种字符串匹配的模式(pattern)，可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。正则表达式是由普通字符(例如字符a-z)以及特殊字符(称为”元字符”)组成的文字模式。模式描述在搜索文本时要匹配的一个或多个字符串。正则表">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-05-20T03:54:56.279Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="正则表达式及Linux的几个常用命令">
<meta name="twitter:description" content="1. 正则表达式正则表达式，又称规则表达式(Regular Expression，常简写为regex、regexp、RE)，描述了一种字符串匹配的模式(pattern)，可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。正则表达式是由普通字符(例如字符a-z)以及特殊字符(称为”元字符”)组成的文字模式。模式描述在搜索文本时要匹配的一个或多个字符串。正则表">





  
  
  <link rel="canonical" href="javior.wang/2019/05/19/操作系统/正则表达式及Linux的几个常用命令/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>正则表达式及Linux的几个常用命令 | Javior's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Javior's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="javior.wang/2019/05/19/操作系统/正则表达式及Linux的几个常用命令/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Javior Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Javior's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">正则表达式及Linux的几个常用命令

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-19 15:05:28" itemprop="dateCreated datePublished" datetime="2019-05-19T15:05:28+08:00">2019-05-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-20 11:54:56" itemprop="dateModified" datetime="2019-05-20T11:54:56+08:00">2019-05-20</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/操作系统/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="1-正则表达式"><a href="#1-正则表达式" class="headerlink" title="1. 正则表达式"></a>1. 正则表达式</h2><p>正则表达式，又称规则表达式(Regular Expression，常简写为regex、regexp、RE)，描述了一种字符串匹配的模式(pattern)，可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。<br>正则表达式是由普通字符(例如字符a-z)以及特殊字符(称为”元字符”)组成的文字模式。模式描述在搜索文本时要匹配的一个或多个字符串。正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。  </p>
<ol>
<li><p>普通字符<br>普通字符包括没有显式指定为元字符的所有可打印和不可打印字符。这包括所有大写和小写字母、所有数字、所有标点符号和一些其他符号。  </p>
<ul>
<li>非打印字符<br>非打印字符也可以是正则表达式的组成部分。</li>
</ul>
</li>
<li><p>特殊字符<br>所谓特殊字符，就是一些有特殊含义的字符，许多元字符要求在试图匹配它们时特别对待。若要匹配这些特殊字符，必须首先使字符转义，即将反斜杠字符<code>\</code>放在它们前面。下表列出了正则表达式中的特殊字符：    </p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">元字符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$</td>
<td style="text-align:left">匹配输入字符串的结尾位置。如果设置了RegExp对象的<code>Multiline</code>属性，则<code>$</code>也匹配<code>\n</code>或<code>\r</code>。</td>
</tr>
<tr>
<td style="text-align:center">( )</td>
<td style="text-align:left">标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:left">匹配前面的子表达式零次或多次。</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:left">匹配前面的子表达式一次或多次。</td>
</tr>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:left">匹配除换行符 \n 之外的任何单字符。</td>
</tr>
<tr>
<td style="text-align:center">[</td>
<td style="text-align:left">标记一个中括号表达式的开始。</td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:left">匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。</td>
</tr>
<tr>
<td style="text-align:center">\</td>
<td style="text-align:left">将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:left">匹配输入字符串的开始位置，除非在方括号表达式中使用，此时它表示不接受该字符集合。</td>
</tr>
<tr>
<td style="text-align:center">{</td>
<td style="text-align:left">标记限定符表达式的开始。</td>
</tr>
<tr>
<td style="text-align:center">&#124;</td>
<td style="text-align:left">指明两项之间的一个选择。</td>
</tr>
</tbody>
</table>
<ul>
<li>限定符<br>限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。<code>*</code>、<code>+</code>限定符都是贪婪的，因为它们会尽可能多的匹配文字，只有在它们的后面加上一个<code>?</code>就可以实现非贪婪或最小匹配。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:left">匹配前面的子表达式零次或多次。</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:left">匹配前面的子表达式一次或多次。</td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:left">匹配前面的子表达式零次或一次。</td>
</tr>
<tr>
<td style="text-align:center">{n}</td>
<td style="text-align:left">n 是一个非负整数。匹配确定的 n 次。</td>
</tr>
<tr>
<td style="text-align:center">{n,}</td>
<td style="text-align:left">n 是一个非负整数。至少匹配n 次。</td>
</tr>
<tr>
<td style="text-align:center">{n,m}</td>
<td style="text-align:left">m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。</td>
</tr>
</tbody>
</table>
<ul>
<li>定位符<br>定位符能够将正则表达式固定到行首或行尾。它们还能够创建这样的正则表达式，这些正则表达式出现在一个单词内、在一个单词的开头或者一个单词的结尾。定位符用来描述字符串或单词的边界，<code>^</code>和<code>$</code>分别指字符串的开始与结束，<code>\b</code>描述单词的前或后边界，<code>\B</code>表示非单词边界。<br>不能将限定符与定位符一起使用。由于在紧靠换行或者单词边界的前面或后面不能有一个以上位置，因此不允许诸如<code>^*</code>之类的表达式。<br>若要匹配一行文本开始处的文本，请在正则表达式的开始使用<code>^</code>字符。不要将<code>^</code>的这种用法与中括号表达式内的用法混淆。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:left">匹配输入字符串开始的位置。如果设置了 RegExp 对象的 Multiline 属性，^ 还会与 \n 或 \r 之后的位置匹配。</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td style="text-align:left">匹配输入字符串结尾的位置。如果设置了 RegExp 对象的 Multiline 属性，$ 还会与 \n 或 \r 之前的位置匹配。</td>
</tr>
<tr>
<td style="text-align:center">\b</td>
<td style="text-align:left">匹配一个单词边界，即字与空格间的位置。</td>
</tr>
<tr>
<td style="text-align:center">\B</td>
<td style="text-align:left">非单词边界匹配。</td>
</tr>
</tbody>
</table>
<ul>
<li><p>选择<br>用圆括号将所有选择项括起来，相邻的选择项之间用<code>|</code>分隔。但用圆括号会有一个副作用，使相关的匹配会被缓存，此时可用<code>?:</code>放在第一个选项前来消除这种副作用。<br>其中 <code>?:</code> 是非捕获元之一，还有两个非捕获元是 <code>?=</code> 和 <code>?!</code>，这两个还有更多的含义，前者为正向预查，在任何开始匹配圆括号内的正则表达式模式的位置来匹配搜索字符串，后者为负向预查，在任何开始不匹配该正则表达式模式的位置来匹配搜索字符串。  </p>
</li>
<li><p>反向引用<br>对一个正则表达式模式或部分模式两边添加圆括号将导致相关匹配存储到一个临时缓冲区中，所捕获的每个子匹配都按照在正则表达式模式中从左到右出现的顺序存储。缓冲区编号从1开始，最多可存储99个捕获的子表达式。每个缓冲区都可以使用<code>\n</code>访问，其中n为一个标识特定缓冲区的一位或两位十进制数。<br>可以使用非捕获元字符 <code>?:</code>、<code>?=</code> 或 <code>?!</code> 来重写捕获，忽略对相关匹配的保存。<br>反向引用的最简单的、最有用的应用之一，是提供查找文本中两个相同的相邻单词的匹配项的能力。</p>
</li>
</ul>
<h2 id="2-Linux的几个文本命令"><a href="#2-Linux的几个文本命令" class="headerlink" title="2. Linux的几个文本命令"></a>2. Linux的几个文本命令</h2><p><code>grep</code>、<code>sed</code>、<code>awk</code>被称为linux中的”三剑客”。其中，<code>grep</code>更适合单纯的查找或匹配文本,<code>sed</code>更适合编辑匹配到的文本,<code>awk</code>更适合格式化文本，对文本进行较复杂格式处理。  </p>
<h3 id="2-1-grep"><a href="#2-1-grep" class="headerlink" title="2.1 grep"></a>2.1 grep</h3><p><code>grep</code>(Global search a Regular Expression and Print,全面搜索正则表达式并打印)是一个强大的文本搜索工具，它能使用特定模式(包括正则表达式)匹配搜索文本，并默认输出匹配行。Unix的grep家族包括<code>grep</code>、<code>egrep</code>和<code>fgrep</code>。Windows系统下类似命令<code>findstr</code>。<br><code>egrep</code>和<code>fgrep</code>的命令只跟<code>grep</code>有很小不同。<code>egrep</code>是<code>grep</code>的扩展，支持更多的re元字符，<code>fgrep</code>就是<code>fixed grep</code>或<code>fast grep</code>，它们把所有的字母都看作单词，也就是说，正则表达式中的元字符表示回其自身的字面意义，不再特殊。linux使用GNU版本的<code>grep</code>。它功能更强，可以通过-G、-E、-F命令行选项来使用<code>egrep</code>和<code>fgrep</code>的功能。<br>grep的工作方式是这样的，它在一个或多个文件中搜索字符串模板。如果模板包括空格，则必须被引起来，因为模板后的所有字符串被看作文件名。搜索的结果被送到标准输出，不影响原文件内容。<code>grep</code>还可用于shell脚本，因为<code>grep</code>通过返回一个状态值来说明搜索的状态，如果模板搜索成功，则返回0，如果搜索不成功，则返回1，如果搜索的文件不存在，则返回2。利用这些返回值就可进行一些自动化的文本处理工作。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法:  </span><br><span class="line">grep [-abcEFGhHilLnqrsvVwxy][-A&lt;显示列数&gt;][-B&lt;显示列数&gt;][-C&lt;显示列数&gt;][-d&lt;进行动作&gt;][-e&lt;范本样式&gt;][-f&lt;范本文件&gt;][--help][范本样式][文件或目录...]</span><br></pre></td></tr></table></figure>
<p>参数：  </p>
<ul>
<li><p><code>-a</code>或<code>--text</code><br>不要忽略二进制的数据。  </p>
</li>
<li><p><code>-A n</code> 或 <code>--after-context=n</code><br>除了显示匹配到的字符串的的那一行及该行后n行。</p>
</li>
<li><p><code>-b</code>或<code>--byte-offset</code><br>在显示符合样式的那一行之前，标示出该行第一个字符的编号。  </p>
</li>
<li><p><code>-B n</code>或<code>--before-context=n</code><br>除了显示匹配到的字符串的的那一行及该行前n行。</p>
</li>
<li><p><code>-c</code>或<code>--count</code><br>显示符合样式的列数。</p>
</li>
<li><p><code>--color</code><br>将匹配到的内容以颜色高亮显示。</p>
</li>
<li><p><code>-C n</code>或<code>--context=n</code>或<code>-n</code><br>除了显示匹配到的字符串的的那一行及该行前后各n行。</p>
</li>
<li><p><code>-d &lt;动作&gt;</code> 或 <code>--directories=&lt;动作&gt;</code><br>当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。</p>
</li>
<li><p><code>-e&lt;范本样式&gt;</code>或<code>--regexp=&lt;范本样式&gt;</code><br>指定字符串做为查找文件内容的样式。</p>
</li>
<li><p><code>-E</code>或<code>--extended-regexp</code><br>开启扩展(EXTEND)的正则表达式。</p>
</li>
<li><p><code>-f&lt;规则文件&gt;</code> 或 <code>--file=&lt;规则文件&gt;</code><br>指定规则文件，其内容含有一个或多个规则样式，让<code>grep</code>查找符合规则条件的文件内容，格式为每行一个规则样式。  </p>
</li>
<li><p><code>-F</code>或<code>--fixed-regexp</code><br>将样式视为固定字符串的列表。</p>
</li>
<li><p><code>-G</code>或<code>--basic-regexp</code><br>将样式视为普通的表示法来使用。</p>
</li>
<li><p><code>-h</code>或<code>--no-filename</code><br>在显示符合样式的那一行之前，不标示该行所属的文件名称。</p>
</li>
<li><p><code>-H</code>或<code>--with-filename</code><br>在显示符合样式的那一行之前，表示该行所属的文件名称。</p>
</li>
<li><p><code>-i</code>或<code>--ignore-case</code><br>忽略大小写。</p>
</li>
<li><p><code>-l</code>或<code>--file-with-matches</code><br>列出文件内容符合指定的样式的文件名称。</p>
</li>
<li><p><code>-L</code>或<code>--files-without-match</code><br>列出文件内容不符合指定的样式的文件名称。</p>
</li>
<li><p><code>-n</code>或<code>--line-number</code><br>显示行号。</p>
</li>
<li><p><code>-o</code>或<code>--only-matching</code><br>只显示匹配PATTERN的部分。</p>
</li>
<li><p><code>-q</code>或<code>--quiet</code>或<code>--silent</code><br>不显示任何信息。</p>
</li>
<li><p><code>-r</code>或<code>--recursive</code><br>此参数的效果和指定”-d recurse”参数相同。</p>
</li>
<li><p><code>-s</code>或<code>--no-messages</code><br>不显示错误信息。</p>
</li>
<li><p><code>-v</code>或<code>--revert-match</code><br>显示不包含匹配文本的所有行。</p>
</li>
<li><p><code>-V</code>或<code>--version</code><br>显示版本信息。</p>
</li>
<li><p><code>-w</code>或<code>--word-regexp</code><br>被匹配的文本只能是单词，而不能是单词中的某一部分。</p>
</li>
<li><p><code>-x --line-regexp</code><br>只显示全列符合的列。</p>
</li>
<li><p><code>-y</code><br>此参数的效果和指定”-i”参数相同。</p>
</li>
</ul>
<p>示例：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ grep test test* #查找前缀有&quot;test&quot;的文件包含&quot;test&quot;字符串的文件  </span><br><span class="line"></span><br><span class="line">$ grep -r update /etc/acpi #以递归的方式查找&quot;etc/acpi&quot;中符合条件的文件</span><br><span class="line"></span><br><span class="line">$ grep -v test *test* #查找文件名包含test的文件中不包含test的行</span><br></pre></td></tr></table></figure>
<h3 id="2-2-awk"><a href="#2-2-awk" class="headerlink" title="2.2 awk"></a>2.2 awk</h3><p><code>awk</code>是一种优良的文本处理工具，由Alfred Aho、Peter Weinberger和Brian Kernighan三人创造，以三人的姓氏的首字母命名。三位创建者已将<code>awk</code>的语法正式定义为<code>样式扫描和处理语言</code>。它允许创建简短的程序来读取输入文件、为数据排序、处理数据、对输入执行计算以及生成报表，以及一些其他的功能。<code>awk</code>经过改进生成的新的版本<code>nawk</code>,<code>gawk</code>，现在默认linux系统下日常使用的是<code>gawk</code>，用命令<code>ls -l /bin/awk</code> 可以查看正在应用的<code>awk</code>的来源。    </p>
<p>语法：<br><code>awk &#39;{pattern + action}&#39; {filenames}</code>   </p>
<p>awk是行处理器，在处理庞大文件时不会出现内存溢出或是处理缓慢的问题，通常用来格式化文本信息。awk的处理过程是依次对每一行进行处理，然后输出。  </p>
<p>awk命令形式:<br><code>awk [-F|-f|-v] &#39;BEGIN{} //{command1; command2} END{}&#39; file</code></p>
<ul>
<li><p>[-F|-f|-v]<br>大参数，-F指定分隔符，-f调用脚本，-v定义变量 var=value</p>
</li>
<li><p><code>&#39;  &#39;</code><br>引用代码块</p>
</li>
<li><p><code>BEGIN</code><br>初始化代码块，在对每一行进行处理之前，初始化代码，主要是引用全局变量，设置FS分隔符</p>
</li>
<li><p><code>//</code><br>匹配代码块，可以是字符串或正则表达式</p>
</li>
<li><p><code>{}</code><br>命令代码块，包含一条或多条命令</p>
</li>
<li><p><code>;</code><br>多条命令使用分号分隔</p>
</li>
<li><p><code>END</code><br>结尾代码块，在对每一行进行处理之后再执行的代码块，主要是进行最终计算或输出结尾摘要信息   </p>
</li>
</ul>
<p>特殊要点:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$0           表示整个当前行</span><br><span class="line">$1           每行第一个字段</span><br><span class="line">NF           字段数量变量</span><br><span class="line">NR           每行的记录号，多文件记录递增</span><br><span class="line">FNR          与NR类似，不过多文件记录不递增，每个文件都从1开始</span><br><span class="line">\t           制表符</span><br><span class="line">\n           换行符</span><br><span class="line">FS           BEGIN时定义分隔符</span><br><span class="line">RS           输入的记录分隔符， 默认为换行符(即文本是按一行一行输入)</span><br><span class="line">~            匹配，与==相比不是精确比较</span><br><span class="line">!~           不匹配，不精确比较</span><br><span class="line">==           等于，必须全部相等，精确比较</span><br><span class="line">!=           不等于，精确比较</span><br><span class="line">&amp;&amp;　         逻辑与</span><br><span class="line">||           逻辑或</span><br><span class="line">+            匹配时表示1个或1个以上</span><br><span class="line">/[0-9][0-9]+/    两个或两个以上数字</span><br><span class="line">/[0-9][0-9]*/    一个或一个以上数字</span><br><span class="line">FILENAME         文件名</span><br><span class="line">OFS              输出字段分隔符， 默认也是空格，可以改为制表符等</span><br><span class="line">ORS              输出的记录分隔符，默认为换行符,即处理结果也是一行一行输出到屏幕</span><br><span class="line">-F&apos;[:#/]&apos;        定义三个分隔符</span><br></pre></td></tr></table></figure></p>
<h3 id="2-3-sed"><a href="#2-3-sed" class="headerlink" title="2.3 sed"></a>2.3 sed</h3><p>Linux <code>sed</code>命令是利用脚本来处理文本文件，是一个面向字符流的非交互式编辑器。<code>sed</code> 可依照脚本的指令来处理、编辑文本文件。<code>sed</code> 主要用来自动编辑一个或多个文件、简化对文件的反复操作、编写转换程序等。  </p>
<p>语法：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed [options] &apos;command&apos; file(s)</span><br><span class="line">sed [-hnV][-e &lt;script&gt;][-f &lt;script文件&gt;][文本文件]</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>-e &lt;script&gt;</code>或<code>--expression=&lt;script&gt;</code><br>以选项中指定的script来处理输入的文本文件。</p>
</li>
<li><p><code>-f &lt;script文件&gt;</code>或<code>--file=&lt;script文件&gt;</code><br>以选项中指定的script文件来处理输入的文本文件。</p>
</li>
<li><p><code>-h</code>或<code>--help</code><br>显示帮助。</p>
</li>
<li><p><code>-n</code>或<code>--quiet</code>或<code>--silent</code><br>仅显示script处理后的结果。</p>
</li>
<li><p><code>-V</code>或<code>--version</code><br>显示版本信息。</p>
</li>
<li><p>a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</p>
</li>
<li>c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</li>
<li>d ：删除选择的行；</li>
<li>D ：删除模板块的第一行</li>
<li>i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</li>
<li>p ：打印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～</li>
<li>s ：替换指定的字符</li>
<li>h : 拷贝模板块的内容到内存中的缓冲区</li>
<li>H : 追加模板块的内容到内存中的缓冲区</li>
</ul>
<h3 id="2-4-printf"><a href="#2-4-printf" class="headerlink" title="2.4 printf"></a>2.4 printf</h3><p>语法：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo string</span><br><span class="line">printf [format] [文本1] [文本2] ..</span><br></pre></td></tr></table></figure>
<p>Shell的<code>echo</code>指令与PHP的<code>echo</code>指令类似，都是用于字符串的输出。<code>printf</code>命令模仿C程序库(library)里的<code>printf()</code>程序,由POSIX标准定义，因此使用<code>printf</code>的脚本比使用<code>echo</code>移植性好。<code>printf</code>使用引用文本或空格分隔的参数，外面可以在<code>printf</code>中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认<code>printf</code>不会像<code>echo</code>自动添加换行符，可以手动添加<code>\n</code>。</p>
<h2 id="3-Linux的几个进程相关命令"><a href="#3-Linux的几个进程相关命令" class="headerlink" title="3. Linux的几个进程相关命令"></a>3. Linux的几个进程相关命令</h2><h3 id="3-1-ps"><a href="#3-1-ps" class="headerlink" title="3.1 ps"></a>3.1 ps</h3><p>Linux ps命令用于显示当前进程 (process) 的状态。  </p>
<p>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ps [options] [--help]</span><br><span class="line"></span><br><span class="line">-A 列出所有的行程</span><br><span class="line">-w 显示加宽可以显示较多的资讯</span><br><span class="line">-au 显示较详细的资讯</span><br><span class="line">-aux 显示所有包含其他使用者的行程</span><br><span class="line">au(x) 输出格式</span><br><span class="line">USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND</span><br><span class="line">USER: 行程拥有者</span><br><span class="line">PID: pid</span><br><span class="line">%CPU: 占用的 CPU 使用率</span><br><span class="line">%MEM: 占用的记忆体使用率</span><br><span class="line">VSZ: 占用的虚拟记忆体大小</span><br><span class="line">RSS: 占用的记忆体大小</span><br><span class="line">TTY: 终端的次要装置号码 (minor device number of tty)</span><br><span class="line">STAT: 该行程的状态:</span><br><span class="line">D: 无法中断的休眠状态 (通常 IO 的进程)</span><br><span class="line">R: 正在执行中</span><br><span class="line">S: 静止状态</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h3 id="3-2-pstree"><a href="#3-2-pstree" class="headerlink" title="3.2 pstree"></a>3.2 pstree</h3><p>Linux pstree命令将所有行程以树状图显示，树状图将会以 pid (如果有指定) 或是以 init 这个基本行程为根 (root)，如果有指定使用者 id，则树状图会只显示该使用者所拥有的行程。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree [-a] [-c] [-h|-Hpid] [-l] [-n] [-p] [-u] [-G|-U] [pid|user]</span><br></pre></td></tr></table></figure>
<h3 id="3-3-top"><a href="#3-3-top" class="headerlink" title="3.3 top"></a>3.3 top</h3><p>Linux top命令用于实时显示 process 的动态。top命令显示CPU占用率可能超过100%，这是因为其显示的的是程序占用的cpu的总数，也就是说如果你是4核cpu那么cpu最高占用率可达400%，top里显示的是把所有使用率加起来。可以按<code>1</code>来查看各核的状态。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -hv | -bcisSHM -d delay -n iterations [-u user | -U user] -p pid [,pid ...]</span><br></pre></td></tr></table></figure>
<h3 id="3-4-kill"><a href="#3-4-kill" class="headerlink" title="3.4 kill"></a>3.4 kill</h3><p>Linux kill命令用于删除执行中的程序或工作。<br>kill可将指定的信息送至程序。预设的信息为SIGTERM(15)，可将指定程序终止。若仍无法终止该程序，可使用SIGKILL(9)信息尝试强制删除程序。程序或工作的编号可利用ps指令或jobs指令查看。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kill [-s &lt;信息名称或编号&gt;][程序]　或　kill [-l &lt;信息编号&gt;]</span><br><span class="line"></span><br><span class="line">-l &lt;信息编号&gt; 　若不加&lt;信息编号&gt;选项，则-l参数会列出全部的信息名称。</span><br><span class="line">-s &lt;信息名称或编号&gt; 　指定要送出的信息。</span><br><span class="line">[程序] 　[程序]可以是程序的PID或是PGID，也可以是工作编号。</span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Linux命令/" rel="tag"># Linux命令</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/14/backends/nosql/redis/Redis(三) Redis实现分布式锁/" rel="next" title="Redis(三) Redis实现分布式锁">
                <i class="fa fa-chevron-left"></i> Redis(三) Redis实现分布式锁
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/20/backends/nosql/mongodb/MongoDB Manual(一) Introduction to MongoDB/" rel="prev" title="MongoDB Manual(一) Introduction to MongoDB">
                MongoDB Manual(一) Introduction to MongoDB <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.gif" alt="Javior Wang">
            
              <p class="site-author-name" itemprop="name">Javior Wang</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">15</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/scorego" title="GitHub &rarr; https://github.com/scorego" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.zhihu.com/people/scorego-6" title="Zhihu &rarr; https://www.zhihu.com/people/scorego-6" rel="noopener" target="_blank"><i class="fa fa-fw fa-heartbeat"></i>Zhihu</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-正则表达式"><span class="nav-text">1. 正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Linux的几个文本命令"><span class="nav-text">2. Linux的几个文本命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-grep"><span class="nav-text">2.1 grep</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-awk"><span class="nav-text">2.2 awk</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-sed"><span class="nav-text">2.3 sed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-printf"><span class="nav-text">2.4 printf</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Linux的几个进程相关命令"><span class="nav-text">3. Linux的几个进程相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-ps"><span class="nav-text">3.1 ps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-pstree"><span class="nav-text">3.2 pstree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-top"><span class="nav-text">3.3 top</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-kill"><span class="nav-text">3.4 kill</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Javior Wang</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.0"></script>




  
  <script src="/js/scrollspy.js?v=7.1.0"></script>
<script src="/js/post-details.js?v=7.1.0"></script>



  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
